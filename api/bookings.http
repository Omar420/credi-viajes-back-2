@HOST = https://qa.back.creditviajes.com/api
@API_KEY = cfrw9D3kOE9RT6yG
@TOKEN = YOUR_LOGIN_TOKEN

###
# --------------------------------------------------------------------------------------
# BOOKING REQUESTS
# --------------------------------------------------------------------------------------
# This file contains examples for creating bookings.
#
# IMPORTANT:
# - The `Authorization` header must contain a valid JWT token obtained from logging in.
# - The `x-api-key` is a static key for the application.
# - The `representative` field in the passengers array is ONLY required for infants (`INFT`).
#   It should contain the `foid_id` of the accompanying adult.
# - `order: 1` represents a one-way trip.
# - `order: 2` represents the return flight for a round-trip.
#
# --------------------------------------------------------------------------------------

### Create a One-Way Booking (Adult only)
# @name createOneWayBooking
POST {{HOST}}/bookings
Content-Type: application/json
Authorization: Bearer {{TOKEN}}
x-api-key: {{API_KEY}}

{
  "email": "test.adult@example.com",
  "phone": "+11234567890",
  "countryCode": "US",
  "carrier": "QL",
  "passengers": [
    {
      "surname": "WAYNE",
      "name": "BRUCE",
      "gender": "M",
      "foid_type": "ID",
      "document_type": "I",
      "foid_id": "987654321",
      "date_of_birth": "30MAR85",
      "passenger_type_code": "ADT",
      "nationality": "US",
      "issue_country": "US",
      "expiration_date": "30MAR30"
    }
  ],
  "air_itinerary_information": [
    {
      "order": 1,
      "departure_information": {
        "location_code": "JFK",
        "date": "2025-09-10",
        "time": "0800"
      },
      "arrival_information": {
        "location_code": "LAX"
      },
      "flight_number": 2025,
      "reservation_booking_designator_code": "N",
      "number_in_party": 1,
      "carrier": "QL"
    }
  ]
}

### --------------------------------------------------------------------------------------

### Create a Round-Trip Booking (Adult and Infant)
# @name createRoundTripBookingWithInfant
POST {{HOST}}/bookings
Content-Type: application/json
Authorization: Bearer {{TOKEN}}
x-api-key: {{API_KEY}}

{
  "email": "test.infant@example.com",
  "phone": "+442071234567",
  "countryCode": "GB",
  "carrier": "QL",
  "passengers": [
    {
      "surname": "KENT",
      "name": "CLARK",
      "gender": "M",
      "foid_type": "PP",
      "document_type": "P",
      "foid_id": "A1B2C3D4E5",
      "date_of_birth": "29FEB80",
      "passenger_type_code": "ADT",
      "nationality": "GB",
      "issue_country": "GB",
      "expiration_date": "29FEB28"
    },
    {
      "surname": "KENT",
      "name": "JONATHAN",
      "gender": "M",
      "foid_type": "ID",
      "document_type": "I",
      "foid_id": "F6G7H8I9J0",
      "date_of_birth": "15JUN23",
      "passenger_type_code": "INFT",
      "nationality": "GB",
      "issue_country": "GB",
      "expiration_date": "15JUN33",
      "representative": "A1B2C3D4E5"
    }
  ],
  "air_itinerary_information": [
    {
      "order": 1,
      "departure_information": {
        "location_code": "LHR",
        "date": "2025-10-20",
        "time": "1130"
      },
      "arrival_information": {
        "location_code": "CDG"
      },
      "flight_number": 1810,
      "reservation_booking_designator_code": "Y",
      "number_in_party": 2,
      "carrier": "QL"
    },
    {
      "order": 2,
      "departure_information": {
        "location_code": "CDG",
        "date": "2025-10-27",
        "time": "1500"
      },
      "arrival_information": {
        "location_code": "LHR"
      },
      "flight_number": 1811,
      "reservation_booking_designator_code": "Y",
      "number_in_party": 2,
      "carrier": "QL"
    }
  ]
}
