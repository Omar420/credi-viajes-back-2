@HOST=http://localhost:4050/api

# Superadmin
@TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiIxZGFlYzY2Mi0zMDVjLTRjYTQtYmMxOC04MzgzOTY4MGJhNmYiLCJpYXQiOjE3NDU1NTMwNTUsImV4cCI6MTc0NTU3MTA1NX0.Furl13P3GxkOGY0b5F-1o4uOdmy9Z6siPIouOMWoulE

@userId=ID_DEL_USUARIO_AUTENTICADO

@targetId=ID_DEL_USUARIO_A_MODIFICAR

# Administrador
@roleId=51b81465-e6a2-4167-a053-4a8b35f2834a

### 游댏 Crear Usuario (Requiere SUPERADMIN o ADMIN seg칰n el rol que se crea)
POST {{HOST}}/users/admin
Authorization: Bearer {{TOKEN}}
Content-Type: application/json

{
  "name": "Jes칰s",
  "surname": "Yepes",
  "phoneNumber": "04140001122",
  "username": "jyepes",
  "email": "jyepes@vilo.team",
  "password": "test123.",
  "roleId": "{{roleId}}"
}

### 游닌 Obtener Todos los Usuarios
GET {{HOST}}/users/admin
Authorization: Bearer {{TOKEN}}

### 游댌 Obtener Usuario por ID
GET {{HOST}}/users/{{targetId}}
Authorization: Bearer {{TOKEN}}

### 游대 Actualizar Usuario (PATCH - con l칩gica por rol)
PATCH {{HOST}}/users/{{targetId}}
Authorization: Bearer {{TOKEN}}
Content-Type: application/json

{
  "name": "Nombre Modificado",
  "surname": "Apellido Modificado"
}

### 游대 Intentar cambiar usuario con conflicto de permisos
# Cambia el role del target y tu token para probar l칩gica de acceso (403 si no se puede)
PATCH {{HOST}}/users/{{targetId}}
Authorization: Bearer {{TOKEN}}
Content-Type: application/json

{
  "username": "no_deberia_cambiar"
}
